<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vases Collection - Nook Decor</title>

<link href="https://fonts.googleapis.com/css2?family=Didot&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  background:#4b0e1f;
  font-family:'Poppins',sans-serif;
  color:#fff;
}
header{
  background:#4b0e1f;
  padding:18px;
  text-align:center;
  font-size:30px;
  font-family:'Didot',serif;
  position:relative;
  color:#ffb3c6;
}
#langSelect{
  position:absolute;
  right:20px;
  top:50%;
  transform:translateY(-50%);
  padding:6px 10px;
  border:none;
  border-radius:8px;
  background:#ffb3c6;
  font-weight:bold;
  color:#4b0e1f;
  cursor:pointer;
}
.gallery{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:30px;
  padding:20px;
}
.item{
  width:100%;
  max-width:420px;
  margin:auto;
  text-align:center;
}
.img-slider{position:relative;width:100%;}
.img-slider img{
  width:100%;
  max-height:85vh;
  object-fit:contain;
  display:none;
}
.img-slider img.active{display:block;}
.arrow{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  font-size:40px;
  color:#ffb3c6;
  cursor:pointer;
  user-select:none;
  padding:10px;
}
.arrow.left{left:0;}
.arrow.right{right:0;}
.price{
  font-size:20px;
  font-weight:bold;
  color:#ffb3c6;
  margin-top:10px;
  font-family:'Didot',serif;
}
.desc{
  font-size:15px;
  color:#ffe3eb;
  margin-top:8px;
  line-height:1.5;
  opacity:0;
  transform:translateY(10px);
  transition:0.4s;
}
.item:hover .desc{opacity:1;transform:translateY(0);}
.btn{
  background:#ffb3c6;
  border:none;
  color:#4b0e1f;
  padding:10px 20px;
  border-radius:10px;
  font-weight:bold;
  cursor:pointer;
  margin-top:10px;
}
.back-link{
  display:block;
  text-align:center;
  margin:30px 0;
  color:#ffb3c6;
  text-decoration:none;
}
@media(max-width:768px){
  .gallery{grid-template-columns:1fr;}
  .arrow{font-size:48px;}
}
</style>
</head>

<body>

<header>
  Vases Collection
  <select id="langSelect">
    <option value="en">English</option>
    <option value="ar">العربية</option>
  </select>
</header>

<div class="gallery" id="productContainer"></div>

<a href="index.html" class="back-link" id="backLink">← Back to Home</a>

<script>
// =================== CART ===================
function getCart(){
  return JSON.parse(localStorage.getItem("cart")) || [];
}
function saveCart(cart){
  localStorage.setItem("cart", JSON.stringify(cart));
  localStorage.setItem("cartItems", JSON.stringify(cart));
}
function handleAddToCart(btn, product, lang){
  let cart = getCart();
  const existing = cart.find(i => i.name === product.name && i.img === product.img);
  if(existing){ existing.qty += 1; }
  else { cart.push({...product, qty:1}); }
  saveCart(cart);

  btn.innerText = lang==="ar" ? "تمت الإضافة ✓" : "Added to Cart ✓";
  btn.style.background="#fff";
  setTimeout(()=>{
    btn.innerText = lang==="ar" ? "أضف إلى السلة" : "Add to Cart";
    btn.style.background="#ffb3c6";
  },1200);
}

// =================== PRICES (24 منتج) ===================
const prices = [
  3400,2800,3000,2200,2000,
  2200,2200,2200,2200,2800,
  2800,2200,2200,3200,3200,
  3000,1000,3000,1700,2000,
  2000,2200,2200,2200
];

// =================== IMAGES ===================
const images = [
 "https://i.postimg.cc/qR1tqc6J/1768001841165-019ba51e-9a21-76e5-a357-a330bd615413.jpg",
 "https://i.postimg.cc/TP8nvcng/1768002837828-019ba52d-e6d1-7207-a41b-f66801aa8c27.png",

 "https://i.postimg.cc/zfRHdHQc/1767991948003-019ba487-95c3-7aa2-a5fb-409b9bfb8865.png",
 "https://i.postimg.cc/RF76m54j/1768006466036-019ba564-be23-7be7-9aea-3d61f55179c1.png",

 "https://i.postimg.cc/jjKY1G37/1767917286961-019ba014-b850-74b5-9ecf-fe77694a2f90.png",
 "https://i.postimg.cc/Gt4WYrtx/1767917932124-019ba01e-5656-7545-9317-2e3e84e9f8ba.jpg",

 "https://i.postimg.cc/W4sx80tT/1767918236946-019ba023-30ea-78a6-afd9-9ba2015ea02b.png",
 "https://i.postimg.cc/4xGJC7mN/1767893075214-019b9ea2-e669-79cd-9908-eef65dac6424.jpg",

 "https://i.postimg.cc/vBxN0h76/1768007343385-019ba571-dfbe-7add-98d8-55ef39e7b0e6.jpg",
 "https://i.postimg.cc/PJmFjqRk/1767893861015-019b9eae-f629-72bd-80e6-cf3319aecb83.png",

 "https://i.postimg.cc/wv1z5Dbv/1767884097127-019b9e1a-4c91-710a-b6f5-e5e73f06d009.png",
 "https://i.postimg.cc/qRWT1gPr/1767887829633-019b9e52-f4ae-7b99-9096-a40870a48bf6.png",

 "https://i.postimg.cc/nLPbLCcQ/1767918432011-019ba025-85f1-70a0-9a92-2dab303dfc73.jpg",
 "https://i.postimg.cc/G3Ywc308/1767893413791-019b9ea8-290d-7af7-b879-c85a237cd754.png"
];

// تكرار آخر الصور عشان نكمل 24 منتج
while(images.length < 48){
  images.push(images[images.length-2], images[images.length-1]);
}

const pairedImages=[];
for(let i=0;i<images.length;i+=2){
  pairedImages.push([images[i], images[i+1]]);
}

// =================== RENDER ===================
function renderProducts(lang){
  const container = document.getElementById("productContainer");
  container.innerHTML="";

  pairedImages.slice(0,24).forEach((pair,index)=>{
    const price = prices[index];

    const div = document.createElement("div");
    div.className="item";

    div.innerHTML=`
      <div class="img-slider">
        <img src="${pair[0]}" class="active">
        <img src="${pair[1]}">
        <span class="arrow left">‹</span>
        <span class="arrow right">›</span>
      </div>
      <div class="price">${price}</div>
      <p class="desc">
        ${lang==="ar"
          ?"مزهرية ديكور أنيقة تضيف لمسة فاخرة لأي مساحة داخلية."
          :"Elegant vase adding a luxurious touch to any interior space."}
      </p>
    `;

    const btn = document.createElement("button");
    btn.className="btn";
    btn.innerText = lang==="ar"?"أضف إلى السلة":"Add to Cart";
    btn.onclick = ()=>handleAddToCart(
      btn,
      {name:`Decorative Vase ${index+1}`, price:price, img:pair[0]},
      lang
    );

    div.appendChild(btn);
    container.appendChild(div);
  });

  initSliders();
}

// =================== SLIDER (كل 7 ثواني) ===================
function initSliders(){
  document.querySelectorAll(".img-slider").forEach(slider=>{
    const imgs = slider.querySelectorAll("img");
    let index = 0;
    const show=i=>{
      imgs.forEach(img=>img.classList.remove("active"));
      imgs[i].classList.add("active");
    };
    slider.querySelector(".left").onclick=()=>{
      index=(index-1+imgs.length)%imgs.length;
      show(index);
    };
    slider.querySelector(".right").onclick=()=>{
      index=(index+1)%imgs.length;
      show(index);
    };
    setInterval(()=>{
      index=(index+1)%imgs.length;
      show(index);
    },7000);
  });
}

// =================== LANGUAGE ===================
const langSelect = document.getElementById("langSelect");
const backLink = document.getElementById("backLink");

langSelect.onchange=()=>{
  const lang = langSelect.value;
  document.body.dir = lang==="ar"?"rtl":"ltr";
  backLink.textContent = lang==="ar"?"← العودة للرئيسية":"← Back to Home";
  renderProducts(lang);
};

// =================== INIT ===================
renderProducts("en");
</script>

</body>
</html>
