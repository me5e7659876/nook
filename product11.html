<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Space Packages - Nook Decor</title>

<!-- ‚úÖ Fonts (SAME AS Glass Candles) -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Didot&display=swap" rel="stylesheet">

<style>
:root{
  --beige:#DFC9AB;
  --burgundy:#4b0e1f;
  --line:rgba(75,14,31,.18);
}

body{
  margin:0;
  font-family:'Poppins',sans-serif; /* ‚úÖ same */
  background:var(--beige);
  color:var(--burgundy);
}

/* HEADER */
header{
  background:var(--beige);
  padding:15px;                 /* ‚úÖ same */
  text-align:center;
  font-family:'Didot',serif;     /* ‚úÖ same */
  font-size:32px;               /* ‚úÖ same as Glass Candles */
  font-weight:bold;             /* ‚úÖ same */
  position:relative;
  color:var(--burgundy);
  border-bottom:1px solid var(--line);
}

/* CART ICON */
.cart-btn{
  position:absolute;
  right:20px;
  top:15px;
  cursor:pointer;
  font-size:18px;
  user-select:none;
  text-decoration:none;
  color:var(--burgundy);
}

/* MAIN CARDS */
.collections-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:28px;
  padding:25px;
}
.collection-card{
  background:rgba(255,255,255,.18);
  border:1px solid var(--line);
  border-radius:10px;
  overflow:hidden;
  box-shadow:0 4px 25px rgba(0,0,0,.18);
  transition:.3s;
}
.collection-card:hover{transform:scale(1.05);}
.collection-card img{
  width:100%;
  height:460px;
  object-fit:cover;
}
.collection-info{
  text-align:center;
  padding:12px 0;
}
.collection-info h3{
  font-family:'Didot',serif;
  color:var(--burgundy);
  margin: 6px 0 10px;
  font-size:20px;              /* ‚úÖ match candles h1 size */
}
.view-btn{
  background:var(--burgundy);
  color:var(--beige);
  padding:8px 18px;            /* ‚úÖ same as candles btn */
  border-radius:10px;          /* ‚úÖ same as candles btn */
  font-weight:bold;
  border:none;
  cursor:pointer;
  width:auto;
  font-family:'Poppins',sans-serif; /* ‚úÖ same */
  transition:0.3s;                 /* ‚úÖ same */
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}
.view-btn:hover{opacity:.9}

/* PACKAGE PAGE */
.collection-page{
  display:none;
  padding:25px;
  background:var(--beige);
  color:var(--burgundy);
}
.back-btn{
  background:var(--burgundy);
  color:var(--beige);
  padding:8px 18px;            /* ‚úÖ same as candles btn */
  border:none;
  border-radius:10px;          /* ‚úÖ same as candles btn */
  font-weight:bold;
  cursor:pointer;
  font-family:'Poppins',sans-serif; /* ‚úÖ same */
  transition:0.3s;                 /* ‚úÖ same */
  margin-bottom:20px;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}
.back-btn:hover{opacity:.9}

/* INNER IMAGES */
.inner-grid{
  display:grid;
  grid-template-columns:1fr;
  gap:18px;
}
.inner-grid img{
  width:100%;
  height:420px;
  object-fit:contain;
  background:transparent;
  border-radius:14px;
}

/* DETAILS */
.package-details{
  margin-top:30px;
  background:rgba(255,255,255,.18);
  border:1px solid var(--line);
  padding:22px;
  border-radius:14px;
}
.package-details h3{
  font-family:'Didot',serif;
  color:var(--burgundy);
  font-size:20px;             /* ‚úÖ match candles h1 size */
}
.package-details p{
  font-size:14px;             /* ‚úÖ match candles p */
  line-height:1.5;            /* ‚úÖ match candles */
  margin:0 0 8px;
}
.price-tag{
  font-size:18px;             /* ‚úÖ match candles price size */
  font-weight:bold;           /* ‚úÖ match candles */
  margin:8px 0;
  color:var(--burgundy);
  font-family:'Poppins',sans-serif; /* ‚úÖ match candles */
}
.add-btn{
  margin-top:10px;
  background:var(--burgundy);
  color:var(--beige);
  padding:8px 18px;           /* ‚úÖ same as candles btn */
  border:none;
  border-radius:10px;         /* ‚úÖ same as candles btn */
  font-weight:bold;
  cursor:pointer;
  width:100%;                 /* ‚úÖ same as candles btn */
  font-family:'Poppins',sans-serif; /* ‚úÖ same */
  transition:0.3s;                 /* ‚úÖ same */
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}
.add-btn:hover{opacity:.9}

/* ‚úÖ little confirmation toast */
.toast{
  position: fixed;
  left: 50%;
  bottom: 26px;
  transform: translateX(-50%);
  background: rgba(75,14,31,.92);
  border: 1px solid var(--line);
  color: var(--beige);
  padding: 12px 16px;
  border-radius: 14px;
  box-shadow: 0 16px 40px rgba(0,0,0,.25);
  opacity: 0;
  pointer-events: none;
  transition: .25s;
  z-index: 9999;
  font-size: 14px; /* ‚úÖ candles text size */
  font-family:'Poppins',sans-serif; /* ‚úÖ same */
}
.toast.show{ opacity: 1; }
</style>
</head>

<body>

<header>
  Space Packages
  <a class="cart-btn" href="cart.html" aria-label="Open cart">üõí</a>
</header>

<div class="collections-grid" id="packagesContainer"></div>

<!-- OFFICE -->
<div id="office" class="collection-page">
<button class="back-btn" type="button" onclick="goHome()">‚Üê Back</button>
<h2>Office Package</h2>
<div class="inner-grid">
<img src="https://i.postimg.cc/Dm38cQtX/1765159432471-019afbb3-19c1-7701-abd8-1634b5b71365.png">
<img src="https://i.postimg.cc/fWG5VJ8Y/1765159054157-019afbad-2d72-722f-bcb6cff07d9.png">
</div>
<div class="package-details">
<h3>Package Includes:</h3>
<p>‚Ä¢ 3 decorative portraits</p>
<p>‚Ä¢ 2 large office vases</p>
<p>‚Ä¢ 1 modern vase</p>
<div class="price-tag">7000 EGP</div>
<button class="add-btn" type="button" onclick="addToCart('office','Office Package',7000)">Add to Cart</button>
</div>
</div>

<!-- GYM -->
<div id="gym" class="collection-page">
<button class="back-btn" type="button" onclick="goHome()">‚Üê Back</button>
<h2>Gym Package</h2>
<div class="inner-grid">
<img src="https://i.postimg.cc/HkW41xD2/1766675741879-019b5614-49a3-7972-8998-5b7e922ecc4b.png">
</div>
<div class="package-details">
<h3>Package Includes:</h3>
<p>‚Ä¢ Large decorative vase</p>
<p>‚Ä¢ Medium vase</p>
<p>‚Ä¢ Glass vase</p>
<div class="price-tag">3500 EGP</div>
<button class="add-btn" type="button" onclick="addToCart('gym','Gym Package',3500)">Add to Cart</button>
</div>
</div>

<!-- CLINIC -->
<div id="clinic" class="collection-page">
<button class="back-btn" type="button" onclick="goHome()">‚Üê Back</button>
<h2>Clinic Package</h2>
<div class="inner-grid">
<img src="https://i.postimg.cc/cJRs7sCj/1766676310440-019b561c-f61e-7eea-98cd-aa4e1a01524b.png">
<img src="https://i.postimg.cc/pdHvLgCJ/1766678241023-019b563a-2b54-7ee2-b37f-df93cce1fd3a.png">
</div>
<div class="package-details">
<h3>Package Includes:</h3>
<p>‚Ä¢ Large vase</p>
<p>‚Ä¢ Glass vase</p>
<p>‚Ä¢ 3 decorative portraits</p>
<div class="price-tag">3500 EGP</div>
<button class="add-btn" type="button" onclick="addToCart('clinic','Clinic Package',3500)">Add to Cart</button>
</div>
</div>

<!-- ENTRANCE -->
<div id="entrance" class="collection-page">
<button class="back-btn" type="button" onclick="goHome()">‚Üê Back</button>
<h2>Entrance Area</h2>
<div class="inner-grid">
<img src="https://i.postimg.cc/KjBSbfT6/1766501762491-019b4bb5-66e4-7713-97ed-ba285f718a36.png">
</div>
<div class="package-details">
<h3>Package Includes:</h3>
<p>‚Ä¢ 2 large vases</p>
<p>‚Ä¢ 1 medium vase</p>
<div class="price-tag">5000 EGP</div>
<button class="add-btn" type="button" onclick="addToCart('entrance','Entrance Area',5000)">Add to Cart</button>
</div>
</div>

<!-- INDOOR -->
<div id="indoor" class="collection-page">
<button class="back-btn" type="button" onclick="goHome()">‚Üê Back</button>
<h2>Indoor Caf√©</h2>
<div class="inner-grid">
<img src="https://i.postimg.cc/xCvxf1gn/1767795860326-019b98d7-e373-776f-997c-50447bc4d4b4.png">
</div>
<div class="package-details">
<h3>Package Includes:</h3>
<p>‚Ä¢ 3 large vases</p>
<p>‚Ä¢ 1 medium vase</p>
<div class="price-tag">6000 EGP</div>
<button class="add-btn" type="button" onclick="addToCart('indoor','Indoor Caf√©',6000)">Add to Cart</button>
</div>
</div>

<!-- OUTDOOR -->
<div id="outdoor" class="collection-page">
<button class="back-btn" type="button" onclick="goHome()">‚Üê Back</button>
<h2>Outdoor Caf√©</h2>
<div class="inner-grid">
<img src="https://i.postimg.cc/j5RJP3xm/1766579329266-019b5054-e5ab-7220-9e39-03778f2effff.png">
</div>
<div class="package-details">
<h3>Package Includes:</h3>
<p>‚Ä¢ 3 large vases</p>
<p>‚Ä¢ 1 medium vase</p>
<div class="price-tag">6000 EGP</div>
<button class="add-btn" type="button" onclick="addToCart('outdoor','Outdoor Caf√©',6000)">Add to Cart</button>
</div>
</div>

<!-- ROOM -->
<div id="room" class="collection-page">
<button class="back-btn" type="button" onclick="goHome()">‚Üê Back</button>
<h2>Room Package</h2>
<div class="inner-grid">
<img src="https://i.postimg.cc/c19LbLC3/1766678132759-019b5638-9e25-79f5-a1ae-7c07b23aa588.png">
<img src="https://i.postimg.cc/gk1kGtvW/1766677398749-019b562d-11c3-7bd0-a724-5b73d29a7c75.png">
</div>
<div class="package-details">
<h3>Package Includes:</h3>
<p>‚Ä¢ 3 customizable wall art pieces (customized based on preference)</p>
<p>‚Ä¢ 1 round glass vase</p>
<p>‚Ä¢ 1 medium-sized vase</p>
<div class="price-tag">2000 EGP</div>
<button class="add-btn" type="button" onclick="addToCart('room','Room Package',2000)">Add to Cart</button>
</div>
</div>

<!-- ‚úÖ RAMADAN PACKAGE (NEW) -->
<div id="ramadan" class="collection-page">
<button class="back-btn" type="button" onclick="goHome()">‚Üê Back</button>
<h2>Ramadan Package</h2>
<div class="inner-grid">
<img src="https://i.postimg.cc/ZRvc3Z0s/c0812198-b898-4ce3-947f-b7a439b91f6c.jpg">
<img src="https://i.postimg.cc/8chmKHR9/6ade71ad-cd93-4e61-be29-7480418970d5.jpg">
<img src="https://i.postimg.cc/sgn9N1hH/ce690225-8a74-4c94-8234-51cada7851d8.jpg">
<img src="https://i.postimg.cc/MK9QWNpX/c641973d-fa6b-404a-a7ba-a7fec43aaeea.png">
</div>
<div class="package-details">
<h3>Package Includes:</h3>
<p>‚Ä¢ Ramadan garland (5 meters)</p>
<p>‚Ä¢ 2 Ramadan lanterns</p>
<p>‚Ä¢ Ramadan hanging decoration</p>
<p>‚Ä¢ 1 glass candle</p>
<div class="price-tag">1500 EGP</div>
<button class="add-btn" type="button" onclick="addToCart('ramadan','Ramadan Package',1500)">Add to Cart</button>
</div>
</div>

<div class="toast" id="toast">Added to cart ‚úÖ</div>

<script>
/* ============================
   REAL CART SYSTEM
============================ */

const CART_KEY = "nook_cart";

/* ‚úÖ migrate old cart if exists */
(function migrateOldCart(){
  try{
    const oldCart = JSON.parse(localStorage.getItem("cart")) || [];
    const newCart = JSON.parse(localStorage.getItem(CART_KEY)) || [];

    if(newCart.length === 0 && oldCart.length > 0){
      const migrated = oldCart.map((it, idx) => ({
        id: it.id || (`legacy_${idx}_${(it.name||"item").toLowerCase().replace(/\s+/g,"_")}`),
        name: it.name || "Item",
        price: Number(it.price) || 0,
        qty: Number(it.qty) || 1,
        img: it.img || "",
        category: it.category || "General",
        page: it.page || "",
        addedAt: it.addedAt || new Date().toISOString()
      }));
      localStorage.setItem(CART_KEY, JSON.stringify(migrated));
    }
  }catch(e){}
})();

const packages=[
  {id:"office",  img:"https://i.postimg.cc/DzLZV7KB/Elevate-Your-Workspace-Modern-Masculine-Office-Design.jpg", name:"Office Package"},
  {id:"gym",     img:"https://i.postimg.cc/gcN0bMfZ/9a802f05-b7cb-491b-94e2-373972ed6b47.jpg", name:"Gym Package"},
  {id:"clinic",  img:"https://i.postimg.cc/50ffZvgj/Psikolog-Odasi.jpg", name:"Clinic Package"},
  {id:"entrance",img:"https://i.postimg.cc/X7rnSnfP/fbc1327e-771f-43f4-95c7-7f395391d0b5.jpg", name:"Entrance Area"},
  {id:"indoor",  img:"https://i.postimg.cc/N0ctHTWC/28476348-56e7-4628-ab97-6c7462b042d6.jpg", name:"Indoor Caf√©"},
  {id:"outdoor", img:"https://i.postimg.cc/3RrHLhr0/499825b1-8067-419d-8125-c960d9f20f17.jpg", name:"Outdoor Caf√©"},
  {id:"room",    img:"https://i.postimg.cc/xdhP52mp/warm-vibes-cozy-bedroom-makeover.jpg", name:"Room Package"},

  /* ‚úÖ NEW: RAMADAN PACKAGE CARD */
  {id:"ramadan", img:"https://i.postimg.cc/MpwFScXn/b16c3776-bdc3-4370-b21e-ffd88372c37e.jpg", name:"Ramadan Package"}
];

const container = document.getElementById("packagesContainer");

/* ‚úÖ render cards */
packages.forEach(p=>{
  const card=document.createElement("div");
  card.className="collection-card";
  card.innerHTML=`
    <img src="${p.img}" alt="${p.name}">
    <div class="collection-info">
      <h3>${p.name}</h3>
      <button class="view-btn" type="button" data-open="${p.id}">View</button>
    </div>`;
  container.appendChild(card);
});

/* ‚úÖ MOBILE FIX: use event delegation + touchend */
function handleOpen(e){
  const btn = e.target.closest("[data-open]");
  if(!btn) return;
  e.preventDefault();
  e.stopPropagation();
  const id = btn.getAttribute("data-open");
  openPackage(id);
}
container.addEventListener("click", handleOpen, {passive:false});
container.addEventListener("touchend", handleOpen, {passive:false});

function openPackage(id){
  container.style.display="none";
  document.querySelectorAll(".collection-page").forEach(p=>p.style.display="none");
  const page = document.getElementById(id);
  if(page) page.style.display="block";
  window.scrollTo(0,0);
}

function goHome(){
  document.querySelectorAll(".collection-page").forEach(p=>p.style.display="none");
  container.style.display="grid";
  window.scrollTo(0,0);
}

/* ‚úÖ Real addToCart */
function addToCart(id, name, price){
  const p = packages.find(x => x.id === id);
  const img = p ? p.img : "";

  const cart = getCart();
  const itemId = `space_${id}`;

  const existing = cart.find(it => it.id === itemId);
  if(existing){
    existing.qty = (Number(existing.qty) || 1) + 1;
  }else{
    cart.push({
      id: itemId,
      name: name,
      price: Number(price) || 0,
      qty: 1,
      img: img,
      category: "Space Packages",
      page: `${location.pathname}#${id}`,
      addedAt: new Date().toISOString()
    });
  }

  saveCart(cart);
  showToast(`${name} added ‚úÖ`);
}

function getCart(){
  try{ return JSON.parse(localStorage.getItem(CART_KEY)) || []; }
  catch(e){ return []; }
}
function saveCart(cart){
  localStorage.setItem(CART_KEY, JSON.stringify(cart));
  localStorage.setItem("cartItems", JSON.stringify(cart)); // for checkout
}

/* ‚úÖ toast */
let toastTimer = null;
function showToast(text){
  const t = document.getElementById("toast");
  t.textContent = text;
  t.classList.add("show");
  clearTimeout(toastTimer);
  toastTimer = setTimeout(()=> t.classList.remove("show"), 1600);
}
</script>

</body>
</html>
