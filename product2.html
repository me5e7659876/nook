<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Soft Cushions - Nook Decor</title>

<!-- ✅ Fonts (SAME AS Glass Candles) -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Didot&display=swap" rel="stylesheet">

<style>
:root{
  --beige:#DFC9AB;
  --burgundy:#4b0e1f;
  --line:rgba(75,14,31,.18);
}

body{
  margin:0;
  font-family:'Poppins', sans-serif;
  background-color: var(--beige);
  color: var(--burgundy);
}

header{
  background-color: var(--beige);
  padding: 15px;
  text-align:center;
  font-size:32px;            /* ✅ same as Glass Candles */
  font-weight:bold;          /* ✅ same */
  font-family:'Didot', serif;/* ✅ same */
  position: relative;
  border-bottom: 1px solid var(--line);
}

#langSelect{
  position:absolute;
  right:20px;
  top:50%;
  transform:translateY(-50%);
  background-color: var(--burgundy);
  border:none;
  padding:8px 14px;          /* ✅ same as Glass Candles */
  border-radius:10px;        /* ✅ same */
  font-weight:bold;
  color: var(--beige);
  cursor:pointer;
  font-family:'Poppins', sans-serif; /* ✅ same */
  transition: 0.25s ease;            /* ✅ same */
}
#langSelect:hover{ opacity:0.9; }

.container{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:28px;
  padding:34px 18px;
}

/* ✅ شيلنا الكرت اللي ورا الصور */
.item{
  width: 380px;
  text-align:center;
  background: transparent;
  border: none;
  border-radius: 0;
  box-shadow: none;
  padding: 0;
  transition: transform .25s ease;
}

.item:hover{
  transform: scale(1.02);
}

/* ✅ Desktop image size = 350×420 */
.item img{
  width: 350px;
  height: 420px;
  object-fit: cover;
  display:block;
  margin: 0 auto;
  border-radius: 15px;

  image-rendering: auto;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* ✅ Title (match Glass Candles card title vibe) */
.title{
  font-family:'Didot', serif; /* ✅ same family as GC titles */
  font-size:20px;             /* ✅ same as GC h1 */
  margin-bottom:8px;
  margin-top:12px;
  font-weight:400;            /* ✅ Didot looks closer to GC */
  color: var(--burgundy);
}

/* ✅ Desc (same as Glass Candles) */
.desc{
  line-height:1.5;
  font-size:14px;             /* ✅ same */
  margin-bottom:8px;
  color: rgba(75,14,31,0.85);
  opacity:0;
  max-height:0;
  overflow:hidden;
  transition: .35s;           /* ✅ same */
  transform: translateY(15px);/* ✅ same */
  margin-top:6px;
}

.item:hover .desc{
  opacity:1;
  max-height:150px;
  transform: translateY(0);
}

/* ✅ Price (same as Glass Candles) */
.price{
  font-size:18px;             /* ✅ same */
  font-weight:bold;
  margin: 8px 0;              /* ✅ same vibe */
  color: var(--burgundy);
}

/* ✅ Button (same as Glass Candles) */
.btn{
  background-color: var(--burgundy);
  border:none;
  padding:8px 18px;           /* ✅ same */
  border-radius:10px;         /* ✅ same */
  font-weight:bold;
  color: var(--beige);
  cursor:pointer;
  transition:.3s;             /* ✅ same */
  width: 350px;               /* ✅ keep same layout as before */
  max-width: 350px;
  font-family:'Poppins', sans-serif;
}

.btn:hover{
  opacity:0.9;                /* ✅ same as GC */
  transform:none;             /* ✅ so it behaves like GC */
}

.back-link{
  display:block;
  text-align:center;
  margin:40px 0;
  font-size:20px;             /* ✅ same as GC back-link */
  font-weight:500;            /* ✅ same */
  text-decoration:none;
  color: var(--burgundy);
  font-family:'Poppins', sans-serif; /* ✅ same as GC */
}

/* ✅ الموبايل: نفس المقاس على كل التليفونات (ثابت) + في النص */
@media (max-width: 768px){
  .container{
    padding: 26px 14px;
    gap: 22px;
  }

  .item{
    width: 100%;
    display:flex;
    flex-direction:column;
    align-items:center;
  }

  .item img{
    width: 300px;     /* ✅ ثابت لكل الموبايلات */
    height: 360px;    /* ✅ ثابت لكل الموبايلات */
    object-fit: cover;
    margin: 0 auto;
  }

  .btn{
    width: 300px;     /* ✅ match image width on mobile */
    max-width: 300px;
  }
}
</style>
</head>

<body>

<header>
  Soft Cushions
  <select id="langSelect">
    <option value="en">English</option>
    <option value="ar">العربية</option>
  </select>
</header>

<div class="container" id="productContainer"></div>

<a href="index.html" class="back-link" id="backLink">← Back to Home</a>

<script>
const products = [
  { img:"https://i.postimg.cc/zGYRDV4x/1.png", price:370, name:{en:"Premium Soft Cushion", ar:"وسادة ناعمة مميزة"}, desc:{en:"A super–soft cushion that adds elegance and comfort.", ar:"وسادة فائقة النعومة تضيف الأناقة والراحة."}},
  { img:"https://i.postimg.cc/0Q4bTQpn/2.png", price:370, name:{en:"Luxury Comfort Cushion", ar:"وسادة فاخرة مريحة"}, desc:{en:"Designed for style and coziness.", ar:"مصممة للأناقة والراحة."}},
  { img:"https://i.postimg.cc/t7Q7gMv2/3.png", price:370, name:{en:"Modern Decorative Cushion", ar:"وسادة ديكورية عصرية"}, desc:{en:"Enhances living rooms beautifully.", ar:"تعزز جمال غرف المعيشة."}},
  { img:"https://i.postimg.cc/y6wT96wv/4.png", price:370, name:{en:"Cozy Home Cushion", ar:"وسادة مريحة للمنزل"}, desc:{en:"Warm & stylish atmosphere.", ar:"دفء وأناقة."}},
  { img:"https://i.postimg.cc/R0s70v7W/4e3bf26b-f1a1-4512-852a-2a3ad6ef6835.png", price:370, name:{en:"Elegant Pattern Cushion", ar:"وسادة بنقشة أنيقة"}, desc:{en:"Classy patterned cushion.", ar:"وسادة أنيقة."}},
  { img:"https://i.postimg.cc/Pf8WtsPr/re1.png", price:370, name:{en:"Ultra Soft Cushion", ar:"وسادة فائقة النعومة"}, desc:{en:"Maximum comfort.", ar:"أقصى راحة."}}
];

/* ✅ CART UNIFIED (same as moods/space packages) */
const CART_KEY = "nook_cart";

function safeParse(v){
  try { return JSON.parse(v); } catch(e){ return null; }
}
function getCart(){
  const data = safeParse(localStorage.getItem(CART_KEY));
  return Array.isArray(data) ? data : [];
}
function saveCart(cart){
  localStorage.setItem(CART_KEY, JSON.stringify(cart));
  localStorage.setItem("cartItems", JSON.stringify(cart)); // for checkout
}
function makeId(category, name, price, img){
  return `${category}__${name}__${price}__${img}`.toLowerCase().trim()
    .replace(/\s+/g,"_").replace(/[^\w\-]+/g,"");
}

function attachCart(lang){
  document.querySelectorAll(".add-to-cart").forEach(btn=>{
    btn.addEventListener("click", ()=>{
      const item = btn.closest(".item");

      const name = item.dataset.name || "Item";
      const price = Number(item.dataset.price) || 0;
      const img = item.dataset.img || "";
      const category = "Soft Cushions";
      const id = makeId(category, name, price, img);

      let cart = getCart();
      let existing = cart.find(p => p.id === id);

      if(existing) existing.qty = (Number(existing.qty) || 1) + 1;
      else {
        cart.push({
          id,
          name,
          price,
          qty: 1,
          img,
          category,
          page: location.pathname,
          addedAt: new Date().toISOString()
        });
      }

      saveCart(cart);

      btn.innerText = lang==="ar" ? "تم الإضافة!" : "Added!";
      setTimeout(()=>{
        btn.innerText = lang==="ar" ? "أضف إلى السلة" : "Add to Cart";
      }, 1200);
    });
  });
}

function renderProducts(lang){
  const c = document.getElementById("productContainer");
  c.innerHTML="";
  products.forEach(p=>{
    c.innerHTML += `
      <div class="item" data-name="${p.name[lang]}" data-price="${p.price}" data-img="${p.img}">
        <img src="${p.img}" alt="">
        <div class="title">${p.name[lang]}</div>
        <div class="desc">${p.desc[lang]}</div>
        <div class="price">${p.price} EGP</div>
        <button class="btn add-to-cart">${lang==="ar"?"أضف إلى السلة":"Add to Cart"}</button>
      </div>`;
  });

  attachCart(lang);
}

/* Language switch (بدون تغيير ستايل) */
const langSelect = document.getElementById("langSelect");
langSelect.addEventListener("change", ()=>{
  const lang = langSelect.value;
  document.body.dir = lang==="ar" ? "rtl" : "ltr";
  renderProducts(lang);
  document.getElementById("backLink").textContent = lang==="ar" ? "← العودة للرئيسية" : "← Back to Home";
});

renderProducts("en");
</script>

</body>
</html>
