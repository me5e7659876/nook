<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Your Cart</title>

<!-- ÿßÿ≥ÿ™Ÿäÿ±ÿßÿØ ÿßŸÑÿÆÿ∑Ÿàÿ∑ -->
<link href="https://fonts.googleapis.com/css2?family=Didot&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

<style>
body {
  background:#4b0e1f;
  color:#fff;
  font-family:'Poppins',sans-serif;
  padding:20px;
  direction: ltr;
}

h1 {
  text-align:center;
  margin-bottom:30px;
  text-shadow:0 0 10px rgba(255,200,210,0.5);
  font-family: 'Didot', serif;
}

/* LANG */
#langSelectContainer {
  text-align:center;
  margin-bottom:20px;
}

#langSelect {
  padding:6px 10px;
  border-radius:8px;
  border:none;
  font-weight:bold;
  color:#4b0e1f;
  background:#ffb3c6;
  cursor:pointer;
  font-family: 'Poppins', sans-serif;
}

/* CART ITEM */
.cart-item {
  background:#3b0a1a;
  padding:15px;
  border-radius:12px;
  margin-bottom:15px;
  display:flex;
  gap:15px;
  align-items:center;
  flex-wrap: wrap;
}

.cart-item img {
  width:100px;
  height:100px;
  object-fit:cover;
  border-radius:12px;
  flex-shrink: 0;
  transition: all 0.3s ease;
}

.item-info { flex:1; }

.item-info h3 {
  margin:0;
  font-family: 'Didot', serif;
  font-size:18px;
  color:#ffb3c6;
}

.price {
  font-size:18px;
  font-weight:bold;
  margin:5px 0;
  font-family: 'Poppins', sans-serif;
}

.qty-box {
  display:flex;
  align-items:center;
  gap:10px;
  margin-top:10px;
}

.qty-box button {
  background:#ffb3c6;
  color:#4b0e1f;
  border:none;
  padding:5px 10px;
  font-weight:bold;
  border-radius:8px;
  cursor:pointer;
  font-family: 'Poppins', sans-serif;
}

.remove-btn {
  background:#ff5f5f;
  color:#fff;
  border:none;
  padding:8px 12px;
  border-radius:10px;
  cursor:pointer;
  font-weight:bold;
  font-family: 'Poppins', sans-serif;
}

/* TOTAL */
.total-box {
  background:#3b0a1a;
  padding:20px;
  border-radius:15px;
  text-align:center;
  margin-top:30px;
  font-size:22px;
  font-weight:bold;
  font-family: 'Poppins', sans-serif;
}

/* CHECKOUT BUTTON */
#checkoutBtn {
  display:block;
  text-align:center;
  background:#ffb3c6;
  color:#4b0e1f;
  margin-top:20px;
  padding:15px;
  border-radius:12px;
  font-weight:700;
  font-size:20px;
  text-decoration:none;
  font-family:'Poppins',sans-serif;
  box-shadow:0 0 12px rgba(255,179,198,0.4);
  transition:0.25s;
}

#checkoutBtn:hover {
  background:#ffc2d2;
  transform:scale(1.03);
}

/* BACK */
.back-link {
  display:block;
  text-align:center;
  color:#ffb3c6;
  margin-top:35px;
  font-size:18px;
  font-family: 'Poppins', sans-serif;
}

/* RESPONSIVE */
@media(max-width:1024px){
  .cart-item img {
    width:80px;
    height:80px;
  }
}

@media(max-width:768px){
  .cart-item {
    flex-direction: column;
    align-items: flex-start;
  }
  .cart-item img {
    width:60px;
    height:60px;
    margin-bottom:10px;
  }
}

@media(max-width:480px){
  .cart-item img {
    width:50px;
    height:50px;
  }
  .item-info h3 {
    font-size:16px;
  }
  .price {
    font-size:16px;
  }
  .qty-box button {
    padding:4px 8px;
  }
  .remove-btn {
    padding:6px 10px;
  }
  .total-box {
    font-size:20px;
    padding:15px;
  }
  #checkoutBtn {
    font-size:18px;
    padding:12px;
  }
}
</style>
</head>

<body>

<!-- LANGUAGE SELECT -->
<div id="langSelectContainer">
  <select id="langSelect">
    <option value="en">English</option>
    <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
  </select>
</div>

<h1 id="cartTitle">Your Cart üõí</h1>
<div id="cartItems"></div>

<!-- TOTAL -->
<div class="total-box" id="totalBox">Total: 0 EGP</div>

<!-- CHECKOUT BUTTON -->
<a id="checkoutBtn" href="checkout.html">Proceed to Checkout üí≥</a>

<!-- BACK TO HOME -->
<a class="back-link" href="index.html" id="backLink">‚Üê Back to Home</a>

<script>
/* ================= CART + LANG ================= */

const langData = {
  en: {
    cartTitle: "Your Cart üõí",
    emptyCart: "Your cart is empty.",
    total: "Total",
    remove: "Remove",
    back: "‚Üê Back to Home",
    checkout: "Proceed to Checkout üí≥"
  },
  ar: {
    cartTitle: "ÿ≥ŸÑÿ© ÿßŸÑÿ™ÿ≥ŸàŸÇ üõí",
    emptyCart: "ÿßŸÑÿ≥ŸÑÿ© ŸÅÿßÿ∂Ÿäÿ©",
    total: "ÿßŸÑŸÖÿ¨ŸÖŸàÿπ",
    remove: "ÿ•ÿ≤ÿßŸÑÿ©",
    back: "‚Üê ÿßŸÑÿπŸàÿØÿ© ŸÑŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©",
    checkout: "ŸÖÿ™ÿßÿ®ÿπÿ© ÿßŸÑÿØŸÅÿπ üí≥"
  }
};

const langSelect = document.getElementById("langSelect");
let currentLang = localStorage.getItem("siteLang") || "en";
langSelect.value = currentLang;

langSelect.addEventListener("change", ()=> {
  currentLang = langSelect.value;
  localStorage.setItem("siteLang", currentLang);
  renderCart();
});

/* CART FUNCTIONS */
function getCart() {
  return JSON.parse(localStorage.getItem("cart")) || [];
}
function saveCart(cart) {
  localStorage.setItem("cart", JSON.stringify(cart));
  localStorage.setItem("cartItems", JSON.stringify(cart)); // ŸÑŸÑŸÄ Checkout
}

function renderCart() {
  let cart = getCart();
  let container = document.getElementById("cartItems");
  const data = langData[currentLang];

  document.getElementById("cartTitle").textContent = data.cartTitle;
  document.getElementById("backLink").textContent = data.back;
  document.getElementById("checkoutBtn").textContent = data.checkout;

  container.innerHTML = "";

  if (cart.length === 0) {
    container.innerHTML = `<h2 style="text-align:center;">${data.emptyCart}</h2>`;
    document.getElementById("totalBox").innerText = `${data.total}: 0 EGP`;
    document.getElementById("checkoutBtn").style.display = "none";
    return;
  }

  document.getElementById("checkoutBtn").style.display = "block";

  let total = 0;

  cart.forEach((item, index) => {
    total += item.price * item.qty;

    container.innerHTML += `
      <div class="cart-item">
        <img src="${item.img}" alt="${item.name}">
        <div class="item-info">
          <h3>${item.name}</h3>
          <div class="price">${item.price} EGP</div>
          <div class="qty-box">
            <button onclick="decreaseQty(${index})">-</button>
            <span>${item.qty}</span>
            <button onclick="increaseQty(${index})">+</button>
          </div>
        </div>
        <button class="remove-btn" onclick="removeItem(${index})">${data.remove}</button>
      </div>
    `;
  });

  document.getElementById("totalBox").innerText = `${data.total}: ${total} EGP`;

  localStorage.setItem("cartItems", JSON.stringify(cart));
}

function increaseQty(i) {
  let cart = getCart();
  cart[i].qty++;
  saveCart(cart);
  renderCart();
}

function decreaseQty(i) {
  let cart = getCart();
  if (cart[i].qty > 1) cart[i].qty--;
  saveCart(cart);
  renderCart();
}

function removeItem(i) {
  let cart = getCart();
  cart.splice(i, 1);
  saveCart(cart);
  renderCart();
}

renderCart();
</script>

</body>
</html>
