<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Your Cart</title>

<style>
body {
  background:#4b0e1f;
  color:#fff;
  font-family:'Poppins',sans-serif;
  padding:20px;
  direction: ltr;
}

h1 {
  text-align:center;
  margin-bottom:30px;
  text-shadow:0 0 10px rgba(255,200,210,0.5);
}

#langSelectContainer {
  text-align:center;
  margin-bottom:20px;
}

#langSelect {
  padding:6px 10px;
  border-radius:8px;
  border:none;
  font-weight:bold;
  color:#4b0e1f;
  background:#ffb3c6;
  cursor:pointer;
}

.cart-item {
  background:#3b0a1a;
  padding:15px;
  border-radius:12px;
  margin-bottom:15px;
  display:flex;
  gap:15px;
  align-items:center;
}

.cart-item img {
  width:100px;
  height:100px;
  object-fit:cover;
  border-radius:12px;
}

.item-info { flex:1; }

.price { font-size:18px; font-weight:bold; margin:5px 0; }

.qty-box {
  display:flex;
  align-items:center;
  gap:10px;
  margin-top:10px;
}

.qty-box button {
  background:#ffb3c6;
  color:#4b0e1f;
  border:none;
  padding:5px 10px;
  font-weight:bold;
  border-radius:8px;
  cursor:pointer;
}

.remove-btn {
  background:#ff5f5f;
  color:#fff;
  border:none;
  padding:8px 12px;
  border-radius:10px;
  cursor:pointer;
  font-weight:bold;
}

.total-box {
  background:#3b0a1a;
  padding:20px;
  border-radius:15px;
  text-align:center;
  margin-top:30px;
  font-size:22px;
  font-weight:bold;
}

.back-link {
  display:block;
  text-align:center;
  color:#ffb3c6;
  margin-top:35px;
  font-size:18px;
}
</style>
</head>

<body>

<!-- LANGUAGE SELECT -->
<div id="langSelectContainer">
  <select id="langSelect">
    <option value="en">English</option>
    <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
  </select>
</div>

<h1 id="cartTitle">Your Cart üõí</h1>
<div id="cartItems"></div>

<div class="total-box" id="totalBox">Total: 0 EGP</div>

<a class="back-link" href="index.html" id="backLink">‚Üê Back to Home</a>

<script>
/* ================= CART FUNCTIONS ================= */

const langData = {
  en: {
    cartTitle: "Your Cart üõí",
    emptyCart: "Your cart is empty.",
    total: "Total",
    remove: "Remove",
    back: "‚Üê Back to Home"
  },
  ar: {
    cartTitle: "ÿ≥ŸÑÿ© ÿßŸÑÿ™ÿ≥ŸàŸÇ üõí",
    emptyCart: "ÿßŸÑÿ≥ŸÑÿ© ŸÅÿßÿ∂Ÿäÿ©",
    total: "ÿßŸÑŸÖÿ¨ŸÖŸàÿπ",
    remove: "ÿ•ÿ≤ÿßŸÑÿ©",
    back: "‚Üê ÿßŸÑÿπŸàÿØÿ© ŸÑŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©"
  }
};

const langSelect = document.getElementById("langSelect");
let currentLang = localStorage.getItem("siteLang") || "en";
langSelect.value = currentLang;

langSelect.addEventListener("change", ()=>{
  currentLang = langSelect.value;
  localStorage.setItem("siteLang", currentLang);
  renderCart();
});

function getCart() {
  return JSON.parse(localStorage.getItem("cart")) || [];
}

function saveCart(cart) {
  localStorage.setItem("cart", JSON.stringify(cart));
}

function renderCart() {
  let cart = getCart();
  let container = document.getElementById("cartItems");
  const data = langData[currentLang];

  document.getElementById("cartTitle").textContent = data.cartTitle;
  document.getElementById("backLink").textContent = data.back;

  container.innerHTML = "";

  if (cart.length === 0) {
    container.innerHTML = `<h2 style="text-align:center;">${data.emptyCart}</h2>`;
    document.getElementById("totalBox").innerText = `${data.total}: 0 EGP`;
    return;
  }

  let total = 0;

  cart.forEach((item, index) => {
    total += item.price * item.qty;

    container.innerHTML += `
      <div class="cart-item">
        <img src="${item.img}">
        <div class="item-info">
          <h3>${item.name}</h3>
          <div class="price">${item.price} EGP</div>
          <div class="qty-box">
            <button onclick="decreaseQty(${index})">-</button>
            <span>${item.qty}</span>
            <button onclick="increaseQty(${index})">+</button>
          </div>
        </div>
        <button class="remove-btn" onclick="removeItem(${index})">${data.remove}</button>
      </div>
    `;
  });

  document.getElementById("totalBox").innerText = `${data.total}: ${total} EGP`;
}

function increaseQty(i) {
  let cart = getCart();
  cart[i].qty++;
  saveCart(cart);
  renderCart();
}

function decreaseQty(i) {
  let cart = getCart();
  if (cart[i].qty > 1) cart[i].qty--;
  saveCart(cart);
  renderCart();
}

function removeItem(i) {
  let cart = getCart();
  cart.splice(i, 1);
  saveCart(cart);
  renderCart();
}

renderCart();
</script>

</body>
</html>
