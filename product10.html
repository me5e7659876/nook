<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Glass and Small Vases - Nook Decor</title>

<link href="https://fonts.googleapis.com/css2?family=Didot&family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Poppins',sans-serif;
  background:#4b0e1f;
  color:#fff;
}

header{
  background:#4b0e1f;
  padding:20px;
  text-align:center;
  font-size:30px;
  font-family:'Didot',serif;
  position:relative;
}

#langSelect{
  position:absolute;
  right:20px;
  top:50%;
  transform:translateY(-50%);
  background:#ffb3c6;
  border:none;
  padding:6px 10px;
  border-radius:10px;
  font-weight:bold;
  color:#4b0e1f;
  cursor:pointer;
}

/* ===== GRID ===== */
.product-container{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:25px;
  padding:30px;
  justify-items:center;
}

/* ===== CARD ===== */
.product-card{
  background:#5c1024;
  border-radius:15px;
  padding:15px;
  max-width:260px;
  width:100%;
  box-shadow:0 4px 15px rgba(0,0,0,.3);
  text-align:center;
  transition:.3s;
}

.product-card:hover{
  transform:scale(1.03);
}

/* ===== SLIDER ===== */
.slider{
  position:relative;
}

/* ✅ التعديل المهم هنا */
.slide{
  width:100%;
  aspect-ratio: 3 / 4;
  height:auto;
  object-fit:contain;
  border-radius:15px;
  display:none;
  background:transparent;
}

.slide.active{
  display:block;
}

.arrow{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  font-size:34px;
  background:none;
  border:none;
  color:#ffb3c6;
  cursor:pointer;
  user-select:none;
}

.arrow.left{left:5px}
.arrow.right{right:5px}

/* ===== TEXT ===== */
.product-card h2{
  font-family:'Didot',serif;
  font-size:20px;
  margin:12px 0 5px;
}

.price{
  font-size:18px;
  font-weight:bold;
  margin:8px 0;
}

.btn{
  background:#ffb3c6;
  border:none;
  color:#4b0e1f;
  padding:10px;
  border-radius:10px;
  font-weight:bold;
  cursor:pointer;
  width:100%;
  transition:.25s;
}

.btn:hover{transform:scale(1.05)}

.back-link{
  color:#ffb3c6;
  text-align:center;
  display:block;
  margin:40px 0;
  text-decoration:none;
  font-size:20px;
}

/* ===== MOBILE ===== */
@media(max-width:420px){
  .slide{
    aspect-ratio: 2 / 3;
  }
  .price{font-size:16px}
  .btn{font-size:14px}
}
</style>
</head>

<body>

<header>
  <span id="headerTitle">Decor Pieces</span>
  <select id="langSelect">
    <option value="en">English</option>
    <option value="ar">العربية</option>
  </select>
</header>

<div class="product-container" id="productContainer"></div>

<a href="index.html" class="back-link" id="backLink">← Back to Home</a>

<script>
function getCart(){ return JSON.parse(localStorage.getItem("cart")) || []; }
function saveCart(cart){ localStorage.setItem("cart", JSON.stringify(cart)); }

const products = [
  ["https://i.postimg.cc/fRxYWV2Y/l-a-m.jpg","https://i.postimg.cc/Bbr1432g/l-a.jpg"],
  ["https://i.postimg.cc/CKcBdkjZ/l-b-m.png","https://i.postimg.cc/BtftRgGT/l-b.jpg"],
  ["https://i.postimg.cc/13cvtmJy/l-h-m.png","https://i.postimg.cc/50jgnw1y/l-h.jpg"],
  ["https://i.postimg.cc/FzLZQNY7/l-s-m.jpg","https://i.postimg.cc/BZrpBLzp/l-s.jpg"],
  ["https://i.postimg.cc/9XJXGCSX/s-m.jpg","https://i.postimg.cc/QxzXySjB/s.jpg"],
  ["https://i.postimg.cc/WpWjdSFt/th-m.jpg","https://i.postimg.cc/FRF5RJ99/th.png"],
  ["https://i.postimg.cc/s2yb6ZGy/ʿ-a-m.png","https://i.postimg.cc/xTz79PKY/ʿ-a.jpg"],
  ["https://i.postimg.cc/LX5Cwk94/ʿ-s-m.jpg","https://i.postimg.cc/NG3t8FDR/ʿ-s.jpg"],
  ["https://i.postimg.cc/Vk42hkqr/f-la-m.png","https://i.postimg.cc/T1r4Jd25/f-la.jpg"],
  ["https://i.postimg.cc/KYwpXkRG/f-la-a-m.jpg","https://i.postimg.cc/L5BxZxvk/f-la.png"],
  ["https://i.postimg.cc/XvSxQMhB/b-m.png","https://i.postimg.cc/gjTHh18G/b.jpg"],
  ["https://i.postimg.cc/W43w12QH/t-a-m.png","https://i.postimg.cc/gkWy6yCV/t-abyd.png"],
  ["https://i.postimg.cc/pL0K7wph/t-b-m.png","https://i.postimg.cc/9fKZXyPD/t-b.png"],
  ["https://i.postimg.cc/BQpFLrc0/t-h-m.jpg","https://i.postimg.cc/PJ4CDDDr/t-h.jpg"],
  ["https://i.postimg.cc/3NKR3wqT/t-s-m.png","https://i.postimg.cc/t41gqwBg/t-s.jpg"],
  ["https://i.postimg.cc/fL37xDjj/y-m.png","https://i.postimg.cc/2S2nMV0d/y.jpg"]
];

function renderProducts(lang){
  const container=document.getElementById("productContainer");
  container.innerHTML="";

  products.forEach((imgs,i)=>{
    const card=document.createElement("div");
    card.className="product-card";
    card.dataset.name=`Decor Piece ${i+1}`;
    card.dataset.price="500";
    card.dataset.img=imgs[0];

    card.innerHTML=`
      <div class="slider">
        <img src="${imgs[0]}" class="slide active">
        <img src="${imgs[1]}" class="slide">
        <button class="arrow left">‹</button>
        <button class="arrow right">›</button>
      </div>

      <h2>${lang==="ar"?"قطعة ديكور":"Decor Piece"} ${i+1}</h2>
      <div class="price">500 EGP</div>
      <button class="btn add-to-cart">${lang==="ar"?"أضف إلى السلة":"Add to Cart"}</button>
    `;
    container.appendChild(card);
  });

  initSliders();
  attachCart(lang);
}

function initSliders(){
  document.querySelectorAll(".slider").forEach(slider=>{
    const slides=slider.querySelectorAll(".slide");
    let i=0;
    const show=()=>{
      slides.forEach(s=>s.classList.remove("active"));
      slides[i].classList.add("active");
    };

    slider.querySelector(".left").onclick=()=>{
      i=(i-1+slides.length)%slides.length;
      show();
    };
    slider.querySelector(".right").onclick=()=>{
      i=(i+1)%slides.length;
      show();
    };
  });
}

function attachCart(lang){
  document.querySelectorAll(".add-to-cart").forEach(btn=>{
    btn.onclick=()=>{
      const card=btn.closest(".product-card");
      let cart=getCart();
      let existing=cart.find(p=>p.name===card.dataset.name);
      if(existing) existing.qty+=1;
      else cart.push({name:card.dataset.name,price:500,img:card.dataset.img,qty:1});
      saveCart(cart);

      btn.textContent=lang==="ar"?"تم الإضافة!":"Added!";
      setTimeout(()=>{
        btn.textContent=lang==="ar"?"أضف إلى السلة":"Add to Cart";
      },1200);
    };
  });
}

langSelect.onchange=()=>{
  const lang=langSelect.value;
  document.body.dir=lang==="ar"?"rtl":"ltr";
  headerTitle.textContent=lang==="ar"?"قطع ديكور":"Decor Pieces";
  backLink.textContent=lang==="ar"?"← العودة للرئيسية":"← Back to Home";
  renderProducts(lang);
};

renderProducts("en");
</script>

</body>
</html>
